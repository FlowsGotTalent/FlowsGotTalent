'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

const path = require('path');
const child_process = require('child_process');

function execAsync(cmd, options) {
  return new Promise((fulfill, reject) => {
    const fullOptions = {
      ...options,
      encoding: "utf8"
    };
    if (fullOptions.cwd) {
      fullOptions.cwd = path.resolve(fullOptions.cwd);
    }
    child_process.exec(cmd, fullOptions, (error, stdout, stderr) => {
      if (error) {
        reject(error);
      } else {
        fulfill({
          stdout,
          stderr
        });
      }
    });
  });
}

exports.execAsync = execAsync;
